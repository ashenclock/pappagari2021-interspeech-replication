# ===================================================================
#                    CONFIGURAZIONE PRINCIPALE
# ===================================================================

# --- Impostazioni Generali ---
seed: 42
device: "cuda"  # "cuda" o "cpu"

# --- Percorsi dei Dati ---
data:
  audio_root: "Adresso21/ADReSSo21-diagnosis-train/ADReSSo21/diagnosis/train/audio"
  transcripts_root: "transcripts"
  train_labels: "Adresso21/ADReSSo21-diagnosis-train/ADReSSo21/diagnosis/train/adresso-train-mmse-scores.csv"
  
  test_audio_root: "Adresso21/ADReSSo21-diagnosis-test/ADReSSo21/diagnosis/test-dist/audio"
  test_transcripts_root: "transcripts_test"
  test_task1_labels: "Adresso21/label_test_task1.csv"
  test_task2_labels: "Adresso21/label_test_task2.csv"

# ===================================================================
#                   CONFIGURAZIONE TRASCRIZIONE (ASR)
# ===================================================================
# Modifica 'engine' per scegliere quale motore ASR usare.
# Lo script legger√† solo la sezione di configurazione corrispondente.
# ===================================================================

transcription:
  # CAMBIA QUI PER SCEGLIERE IL MOTORE: "crisperwhisper" o "nemo"
  engine: "crisperwhisper"
  overwrite: false

  # --- Impostazioni per CrisperWhisper (usate solo se engine: "crisperwhisper") ---
  crisperwhisper:
    # Modello Whisper di base usato da insanely-fast-whisper
    whisper_model_name: "openai/whisper-large-v3"
    
    # Modello T5 per la correzione del testo
    correction_model_name: "nyra-health/t5-large-text-correction"
    
    batch_size: 8
    compute_type: "float16" # Usa "int8" se la GPU ha poca VRAM

  # --- Impostazioni per NeMo (usate solo se engine: "nemo") ---
  nemo:
    model_name: "nvidia/parakeet-tdt-0.6b-v2"
    batch_size: 16

# ===================================================================
#                     CONFIGURAZIONE ESPERIMENTO
# ===================================================================
# Questa sezione controlla le operazioni di training, predizione e valutazione
# lanciate con 'python scripts/run.py'.
# ===================================================================

# --- Task e Modello ---
task: "classification"    # "classification" o "regression"
modality: "text"          # "text" o "audio"

# Modello di trascrizione da usare per l'addestramento del modello testuale.
# Deve corrispondere al nome della cartella creata da 'transcribe.py'.
# Esempio per Crisper: "Crisper_whisper-large-v3"
# Esempio per NeMo: "parakeet-tdt-0.6b-v2"
transcription_model_for_training: "Crisper_whisper-large-v3"

# --- Cross-Validation ---
k_folds: 10
output_dir: "outputs/bert_classification_crisper_large-v3" # Cartella dove salvare modelli e predizioni

# --- Parametri del Modello ---
model:
  text:
    name: "bert-base-uncased"
    max_length: 512
    dropout: 0.2

  audio:
    name: "ecapa-tdnn"
    pretrained: "speechbrain/spkrec-ecapa-voxceleb"
    sample_rate: 16000
    trainable_encoder: true 
    dropout: 0.2

# --- Parametri di Addestramento ---
training:
  epochs: 15
  batch_size: 8
  learning_rate: 2.0e-5
  weight_decay: 0.01
  warmup_steps: 100
  early_stopping_patience: 3
  eval_metric: "f1" # Per classificazione: "accuracy" o "f1". Per regressione: "rmse".