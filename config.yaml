# ===================================================================
#                    CONFIGURAZIONE PRINCIPALE
# ===================================================================

# --- Impostazioni Generali ---
seed: 42
device: "cuda"  # "cuda" o "cpu"

# --- Percorsi dei Dati ---
data:
  audio_root: "Adresso21/ADReSSo21-diagnosis-train/ADReSSo21/diagnosis/train/audio"
  transcripts_root: "transcripts"
  train_labels: "Adresso21/ADReSSo21-diagnosis-train/ADReSSo21/diagnosis/train/adresso-train-mmse-scores.csv"
  
  test_audio_root: "Adresso21/ADReSSo21-diagnosis-test/ADReSSo21/diagnosis/test-dist/audio"
  test_transcripts_root: "transcripts_test"
  test_task1_labels: "Adresso21/label_test_task1.csv"
  test_task2_labels: "Adresso21/label_test_task2.csv"

# ===================================================================
#                   CONFIGURAZIONE TRASCRIZIONE (ASR)
# ===================================================================
# Modifica 'engine' per scegliere quale motore ASR usare.
# Lo script leggerà solo la sezione di configurazione corrispondente.
# ===================================================================

transcription:
  # CAMBIA QUI: "crisperwhisper", "nemo", o "whisperx"
  engine: "nemo"
  overwrite: false

  # --- SEZIONE CRISPERWHISPER RIVISTA E CORRETTA ---
  crisperwhisper:
    # L'unico parametro che ci serve è l'ID del modello su Hugging Face
    model_id: "nyrahealth/CrisperWhisper" 
    batch_size: 16
    compute_type: "float16" # o "int8"
    
  # --- Impostazioni per NeMo ---
  nemo:
    model_name: "nvidia/parakeet-tdt-0.6b-v2"
    batch_size: 2

  # --- Impostazioni per WhisperX ---
  whisperx:
    model_name: "nyrahealth/faster_CrisperWhisper"
    batch_size: 16
    compute_type: "float16"
    language: "en"
# ===================================================================
#                     CONFIGURAZIONE ESPERIMENTO
# ===================================================================
# Questa sezione controlla le operazioni di training, predizione e valutazione
# lanciate con 'python scripts/run.py'.
# ===================================================================

# --- Task e Modello ---
task: "classification"    # "classification" o "regression"
modality: "text"          # "text" o "audio"

# Modello di trascrizione da usare per l'addestramento del modello testuale.
# Deve corrispondere al nome della cartella creata da 'transcribe.py'.
# Esempio per Crisper: "Crisper_whisper-large-v3"
# Esempio per NeMo: "parakeet-tdt-0.6b-v2"
transcription_model_for_training: "parakeet-tdt-0.6b-v2"

# --- Cross-Validation ---
k_folds: 10
output_dir: "outputs/bert_classification_CrisperWhisper" # Cartella dove salvare modelli e predizioni

# --- Parametri del Modello ---
model:
  text:
    name: "bert-large-uncased"
    max_length: 275
    dropout: 0.1

  audio:
    name: "ecapa-tdnn"
    pretrained: "speechbrain/spkrec-ecapa-voxceleb"
    sample_rate: 16000
    trainable_encoder: true 
    dropout: 0.1

# --- Parametri di Addestramento ---
training:
  epochs: 15
  batch_size: 8
  learning_rate: 2.0e-5
  weight_decay: 0.01
  warmup_ratio: 0.1
  early_stopping_patience: 5
  eval_metric: "rmse" # Per classificazione: "accuracy" o "f1". Per regressione: "rmse".